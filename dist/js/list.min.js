define(["jquery","jquery-cookie"],function(o){return{list:function(){o.ajax({type:"get",url:"../data/list.json",success:function(i){if(i){for(var e=0;e<i.length;e++){for(var l=o("<div class='list_item'></div>"),t=o("<div class='list_img'></div>"),s=o("<a href="+i[e].url+"?id="+i[e].id+"></a>"),a=o("<ul></ul>"),n=0;n<i[e].img.length;n++)o("<li><img src="+i[e].img[n]+" alt="+i[e].title+" title="+i[e].title+"></li>").appendTo(a);a.appendTo(s),s.appendTo(t);var p=o("<div class='list_imgx'></div>"),r=o("<ol></ol>");for(n=0;n<i[e].imgx.length;n++)o("<li><img src="+i[e].imgx[n]+" alt="+i[e].title+" title="+i[e].title+"></li>").appendTo(r);if(r.appendTo(p),o("<span class='prev'>&lt;</span><span class='next'>&gt;</span>").appendTo(p),p.appendTo(t),t.appendTo(l),o("<a href="+i[e].url+"><ul class='list_con'><li><span>￥"+i[e].price+"</span><i>￥"+i[e].del+"</i></li><li><p>"+i[e].title+"</p></li><li><em>"+i[e].evaluate+"</em></li><li><em>"+i[e].merchant+"</em></li></ul></a>").appendTo(l),l.appendTo(o(".list_cons")),e<5){for(l=o("<div class='list_item'></div>"),t=o("<div class='list_img'></div>"),s=o("<a href="+i[e].url+"></a>"),a=o("<ul></ul>"),n=0;n<i[e].img.length;n++)o("<li><img src="+i[e].img[n]+" alt="+i[e].title+" title="+i[e].title+"></li>").appendTo(a);for(a.appendTo(s),s.appendTo(t),p=o("<div class='list_imgx'></div>"),r=o("<ol></ol>"),n=0;n<i[e].imgx.length;n++)o("<li><img src="+i[e].imgx[n]+" alt="+i[e].title+" title="+i[e].title+"></li>").appendTo(r);r.appendTo(p),o("<span class='prev'>&lt;</span><span class='next'>&gt;</span>").appendTo(p),p.appendTo(t),t.appendTo(l),o("<a href="+i[e].url+"?id="+i[e].id+"><ul class='list_con'><li><span>"+i[e].price+"</span><i>"+i[e].del+"</i></li><li><p>"+i[e].title+"</p></li><li><em>"+i[e].evaluate+"</em></li><li><em>"+i[e].merchant+"</em></li></ul></a>").appendTo(l),l.appendTo(o(".liker_list"))}}o(".list_img ul li").eq(0).show().siblings().hide();var d=0;o(".list_imgx ol").on("mouseenter","li",function(){d=o(this).index(),o(this).attr("class","active").siblings().attr("class",""),o(this).parent().parent().prev().find("ul li").eq(d).show().siblings().hide()}),o(".prev").click(function(){--d<0&&(d=0);var i=(o(this).prev().find("li").width()+6)*o(this).prev().find("li").size(),e=o(this).prev().find("li").size()-5,l=parseInt(o(this).prev().css("left"));o(this).prev().width(i),d<=e&&l<0&&o(this).prev().stop().animate({left:l+o(this).prev().find("li").width()},500),o(this).prev().find("li").eq(d).attr("class","active").siblings().attr("class",""),o(this).parent().prev().find("ul li").eq(d).show().siblings().hide()}),o(".next").click(function(){++d>o(this).parent().prev().find("ul li").size()&&(d=o(this).parent().prev().find("ul li").size());var i=(o(this).prev().prev().find("li").width()+6)*o(this).prev().prev().find("li").size();o(this).prev().prev().width(i),5<=d&&o(this).prev().prev().stop().animate({left:-o(this).prev().prev().find("li").width()},500),o(this).prev().prev().find("li").eq(d).attr("class","active").siblings().attr("class",""),o(this).parent().prev().find("ul li").eq(d).show().siblings().hide()})}},error:function(i){console.log(i)}}),o.ajax({type:"get",url:"../data/category.json",success:function(i){if(i)for(var e=0;e<i.length;e++)o("<a href="+i[e].url+">"+i[e].title+"</a>").appendTo(o(".list_nav dd"))},error:function(i){console.log(i)}})}}});