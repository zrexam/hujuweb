define(["jquery","slidePic"],function(m,v){return{index:function(){m.ajax({type:"get",url:"../data/banner.json",success:function(t){if(t){for(var e=m("<ul class='clearfix'>"),l=m("<ol>"),a=m("<a class='prev'></a><a class='next'></a>"),n="",i="",o=0;o<t.length;o++)n+="<li><a href="+t[o].url+" title="+t[o].title+"><img src="+t[o].img+" alt="+t[o].title+" title="+t[o].title+"></a></li>",i+="<li></li>";e.html(n),l.html(i),e.appendTo(m(".banner")),l.appendTo(m(".banner")),a.appendTo(m(".banner")),m(".banner ul li").css("opacity",0).eq(0).css("opacity",1),m(".banner ol li").eq(0).attr("class","active"),m(".banner ol").on("mouseenter","li",function(){s=m(this).index(),r()}),m(".banner .prev").click(function(){0<(s=m(".banner ol li.active").index())?s-=1:s=4,r()}),m(".banner .next").click(function(){(s=m(".banner ol li.active").index())<4?s+=1:s=0,r()})}},error:function(t){console.log(t)}});var s=1,e=null;function r(){m(".banner ol li").eq(s).attr("class","active").siblings().attr("class",""),m(".banner ul li").stop().animate({opacity:0},1e3),m(".banner ul li").eq(s).stop().animate({opacity:1},1e3,function(){s==m(".banner ol li").size()&&m(".banner ul li").css("opacity",1)})}function l(){r(),++s==m(".banner ol li").size()&&(s=0)}m(".banner").mouseenter(function(){clearInterval(e)}).mouseleave(function(t){e=setInterval(function(){l()},2e3)}),e=setInterval(function(){l()},2e3),m.get("../data/recommend.json",function(t){if(t){for(var e=m("<ul class='clearfix'></ul>"),l=0;l<t.length;l++)m("<li><a href="+t[l].url+" title="+t[l].title+"><img src="+t[l].img+" alt="+t[l].title+" title="+t[l].title+"></a></li>").appendTo(e);e.appendTo(m("#recommend"))}}),m.ajax({type:"get",url:"data/content.json",success:function(t){if(t)for(var e=0;e<t.length;e++){for(var l=m("<div class='con_top clearfix'></div>"),a=m("<h2 class='con_tit'>"+t[e].title+"</h2>"),n=m("<ul></ul>"),i="",o=0;o<t[e].top.length;o++)i+="<li><a target='_blank' href=''>"+t[e].top[o]+"</a></li>";n.html(i),a.appendTo(l),n.appendTo(l);var s=m("<dl class='clearfix'></dl>"),r=m("<dt></dt>"),c=m("<dd></dd>"),d=m("<ul></ul>"),p=m("<ol></ol>"),f=m("<ul class='clearfix'></ul>"),u="",g="";for(o=0;o<t[e].left.length;o++)u+="<li><a target='_blank' href="+t[e].left[o].url+" title="+t[e].left[o].title+"><img src="+t[e].left[o].img+" alt="+t[e].left[o].title+"></a></li>",g+="<li></li>";d.html(u),p.html(g);var h="";for(o=0;o<t[e].right.length;o++)h+="<li><a target='_blank' href="+t[e].right[o].url+" title="+t[e].right[o].title+"><img src="+t[e].right[o].img+" alt="+t[e].right[o].title+"></a></li>";f.html(h),d.appendTo(r),p.appendTo(r),f.appendTo(c),r.appendTo(s),c.appendTo(s),l.appendTo("#"+(e+1)+"F"),s.appendTo("#"+(e+1)+"F")}m(".con_1f dl dt ol").find("li:first-child").attr("class","active"),v.slidePic("#1F dl dt ol"),v.slidePic("#2F dl dt ol"),v.slidePic("#3F dl dt ol"),v.slidePic("#4F dl dt ol")},error:function(t){console.log(t)}}),m.ajax({type:"get",url:"../data/experience.json",success:function(t){if(t)for(var e=0;e<t.length;e++)m("<dl><a href="+t[e].url+" title="+t[e].title+"><dt><img src="+t[e].img+" alt="+t[e].title+" title="+t[e].title+"></dt><dd><h2>"+t[e].title+"</h2><ul><li><i class='fa fa-phone'></i><span class='orange'>"+t[e].phone+"</span></li><li><i class='fa fa-map-marker'></i><span>"+t[e].address+"</span></li><li><i class='fa fa-clock-o'></i><span>营业时间："+t[e].clock+"</span></li></ul><p><i class='fa fa-coffee'></i><span>免费茶水</span></p><p><i class='fa fa-product-hunt'></i><span>免费停车</span></p></dd></a></dl>").appendTo(m("#tiyan"))},error:function(t){console.log(t)}}),m.ajax({type:"get",url:"../data/news.json",success:function(t){if(t)for(var e=0;e<t.length;e++){if(1==t[e].ishot){var l=new Date(t[e].addtime),a=l.getDate(),n=l.getMonth()+1,i=l.getFullYear();m("<a href="+t[e].url+"><div class='con_news_l_img'><img src="+t[e].img+" alt="+t[e].title+" title="+t[e].title+"></div><dl><dt><span>"+a+"</span><i>"+i+"-"+n+"</i></dt><dd><p>"+t[e].title+"</p><span>"+t[e].content+"</span></dd></dl></a>").appendTo(m(".con_news_l")),m("<a href="+t[e].url+"><dt><span>"+a+"</span><i>"+i+"-"+n+"</i></dt><dd><p>"+t[e].title+"</p><span>"+t[e].content+"</span></dd></a>").appendTo(m(".con_news_r_top"))}1==t[e].cateid&&m("<dd><a href="+t[e].url+" title="+t[e].title+"><span>"+t[e].addtime+"</span><p>"+t[e].title+"</p></a></dd>").appendTo(m("#news_l")),2==t[e].cateid&&m("<dd><a href="+t[e].url+" title="+t[e].title+"><span>"+t[e].addtime+"</span><p>"+t[e].title+"</p></a></dd>").appendTo(m("#news_r"))}},error:function(t){console.log(t)}})}}});